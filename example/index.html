<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'/>
		<title>Simple Autosize for textareas</title>
		<style>
			div {
				border: 1px solid gray;
			}
			.container {
				display: flex;
				flex-wrap: nowrap;
				flex-direction: row;
				align-content: stretch;
				min-height: 500px;
			}
			.column {
				display: flex;
				flex-direction: column;
				width: calc(100% / 3);
			}
			.flex-item {
				align-self: stretch;
			}
			.small {
				flex: 1 0 180px;
			}
			.medium {
				flex: 0 0 320px;
			}
			.large {
				flex: 1 0 100%;
			}
			textarea {
				padding: 10px;
				vertical-align: top;
				border: none;
				width: 90%;
			}
			textarea:focus {
				outline-style: solid;
				outline-width: 2px;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="column">
				<div class="medium flex-item">
					<h3>Container 1</h3>
					<textarea>The coconut palm (also, cocoanut), Cocos nucifera, is a member of the family Arecaceae (palm family). It is the only accepted species in the genus Cocos.[2] The term coconut can refer to the entire coconut palm, the seed, or the fruit, which, botanically, is a drupe, not a nut. The spelling cocoanut is an archaic form of the word.[3] The term is derived from 16th-century Portuguese and Spanish coco, meaning "head" or "skull",[4] from the three small holes on the coconut shell that resemble human facial features.</textarea>
				</div>
				<div class="small flex-item">
					<h3>Container 2</h3>
					<textarea>The coconut palm (also, cocoanut), Cocos nucifera, is a member of the family Arecaceae (palm family). It is the only accepted species in the genus Cocos.[2]

					The coconut palm (also, cocoanut), Cocos nucifera, is a member of the family Arecaceae (palm family). It is the only accepted species in the genus Cocos.[2] The term coconut can refer to the entire coconut palm, the seed, or the fruit, which, botanically, is a drupe, not a nut. The spelling cocoanut is an archaic form of the word.[3] The term is derived from 16th-century Portuguese and Spanish coco, meaning "head" or "skull",[4] from the three small holes on the coconut shell that resemble human facial features.</textarea>
				</div>
			</div>
			<div class="column">
				<div class="large flex-item">
					<h3>Container 3</h3>
					<textarea>The coconut palm (also, cocoanut), Cocos nucifera, is a member of the family Arecaceae (palm family). It is the only accepted species in the genus Cocos.[2] The term coconut can refer to the entire coconut palm, the seed, or the fruit, which, botanically, is a drupe, not a nut. The spelling cocoanut is an archaic form of the word.[3] The term is derived from 16th-century Portuguese and Spanish coco, meaning "head" or "skull",[4] from the three small holes on the coconut shell that resemble human facial features.</textarea>
				</div>
			</div>
			<div class="column">
				<div class="medium flex-item">
					<h3>Container 4</h3>
					<textarea>The coconut palm (also, cocoanut), Cocos nucifera, is a member of the family Arecaceae (palm family). It is the only accepted species in the genus Cocos.[2] The term coconut can refer to the entire coconut palm, the seed, or the fruit, which, botanically, is a drupe, not a nut. The spelling cocoanut is an archaic form of the word.[3] The term is derived from 16th-century Portuguese and Spanish coco, meaning "head" or "skull",[4] from the three small holes on the coconut shell that resemble human facial features.

					The coconut palm (also, cocoanut), Cocos nucifera, is a member of the family Arecaceae (palm family). It is the only accepted species in the genus Cocos.[2] The term coconut can refer to the entire coconut palm, the seed, or the fruit, which, botanically, is a drupe, not a nut. The spelling cocoanut is an archaic form of the word.[3] The term is derived from 16th-century Portuguese and Spanish coco, meaning "head" or "skull",[4] from the three small holes on the coconut shell that resemble human facial features.</textarea>
				</div>
				<div class="small flex-item">
					<h3>Container 5</h3>
					<textarea>The coconut palm (also, cocoanut), Cocos nucifera, is a member of the family Arecaceae (palm family). It is the only accepted species in the genus Cocos.[2] </textarea>
				</div>
			</div>
		</div>
	</body>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.js"></script>
	<script src='../dist/autosize.js'></script>
	<script>
		autosize(document.querySelectorAll('textarea'));
		$(setInitialSizes);
		listenForChanges();

		//////////////////////////////////////////

		function setInitialSizes() {
			$('.medium').each(function(i, el) {
				sizeMediumAreas(el);
			});
		}

		function listenForChanges() {
			$('.medium').on('input', function(ev) {
				sizeMediumAreas($(this))
			});
		}

		function sizeMediumAreas(el) {
			var heightOfTextArea = $(el).find('textarea').height();
			var offset = 80;
			var totalHeight = heightOfTextArea + offset;
			$('.medium').css({'min-height': (totalHeight) + 'px'});
		}
	</script>
</html>
